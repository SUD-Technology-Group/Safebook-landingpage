<html lang='en'>
    <head>
        <meta charset='UTF-8' />
        <meta http-equiv='X-UA-Compatible' content='IE=edge' />
        <meta name='viewport' content='width=device-width, initial-scale=1.0' />
        <title>{{title}}</title>
        <link rel='icon' href='https://www.safebooks.vn/upload/photo/fav-safebook-4164.png' sizes='192x192' />
        <!-- Font Awesome -->
        <link
            href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css'
            rel='stylesheet'
        />
        <!-- Google Fonts -->
        <link
            href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap'
            rel='stylesheet'
        />
        <!-- Datatable -->
        <link
            href='https://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css'
            rel='stylesheet'
        />
        <!-- MDB -->
        <link
            href='https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css'
            rel='stylesheet'
        />
        <!-- Css -->
        <link rel='stylesheet' href='/css/admin.css' />
        <!-- Bootstrap -->
        <script
            src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js'
            integrity='sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=='
            crossorigin='anonymous'
            referrerpolicy='no-referrer'
        ></script>
        <script
            src='https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js'
            integrity='sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q'
            crossorigin='anonymous'
        ></script>
        <script
            src='https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js'
            integrity='sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl'
            crossorigin='anonymous'
        ></script>
        <!-- CKeditor -->
        <script src="/ckeditor/ckeditor.js"></script>
    </head>
    <body>
        <header>
            <!-- Sidebar -->
            <nav
                id='sidebarMenu'
                class='collapse d-lg-block sidebar collapse bg-white'
            >
                <div class='position-sticky'>
                    <div class='list-group list-group-flush mx-3 mt-4 h-100'>
                        <a
                            href='/admin'
                            id='banner'
                            class='list-group-item list-group-item-action py-2 ripple'
                        ><i class='fa-solid fa-sliders me-3'></i><span
                            >Banner</span></a>
                        <a
                            href='/admin/section'
                            id='section'
                            class='list-group-item list-group-item-action py-2 ripple'
                        ><i class='fa-solid fa-section me-3'></i><span
                            >Section</span></a>
                        <a
                            href='/admin/doi-ngu'
                            id='doi-ngu'
                            class='list-group-item list-group-item-action py-2 ripple'
                        ><i class='fa-solid fa-users me-3'></i><span>Đội ngũ</span></a>
                        <a
                            href='/admin/binh-luan'
                            id='binh-luan'
                            class='list-group-item list-group-item-action py-2 ripple'
                        ><i class='fa-solid fa-comment me-3'></i><span>Bình luận</span></a>
                        <a
                            href='/admin/auth/logout'
                            class='list-group-item list-group-item-action py-2 ripple mt-auto mb-5'
                        ><i class="fa-solid fa-right-to-bracket me-3"></i><span>Đăng xuất</span></a>
                    </div>
                </div>
            </nav>
            <!-- Sidebar -->

            <nav
                id='main-navbar'
                class='navbar navbar-expand-lg navbar-light bg-white fixed-top px-2'
            >
                <!-- Container wrapper -->
                <div class='container-fluid'>
                    <!-- Toggle button -->
                    <button
                        class='navbar-toggler'
                        type='button'
                        data-mdb-toggle='collapse'
                        data-mdb-target='#sidebarMenu'
                        aria-controls='sidebarMenu'
                        aria-expanded='false'
                        aria-label='Toggle navigation'
                    >
                        <i class='fas fa-bars'></i>
                    </button>

                    <!-- Brand -->
                    <a class='navbar-brand p-0 me-auto' href='/admin'>
                        <img
                            src='/images/logo.png'
                            width='12%'
                            alt=''
                            loading='lazy'
                        />
                    </a>

                    <!-- Right links -->
                    <a
                            style='width:150px'
                            href='/'
                            class='list-group-item py-2 ripple'
                        ><i class='fa-solid fa-house me-2'></i><span>Trang
                                chủ</span></a>
                </div>
                <!-- Container wrapper -->
            </nav>
        </header>
        <!--Main Navigation-->

        <!--Main layout-->
        <main style='margin-top: 50px; margin-left:10px'>
            <div class='container pt-4'>
                {{{body}}}
            </div>
        </main>
    
    {{#if message.success}}
    <div class="toast fade mx-auto toast-success toast-fixed show" role="alert" aria-live="assertive" aria-atomic="true" data-mdb-autohide="true" data-mdb-position="top-right" data-mdb-append-to-body="true" data-mdb-stacking="true" data-mdb-width="350px" data-mdb-color="success"
        style="width: 350px; display: block; top: 10px; right: 10px; bottom: unset; left: unset; transform: unset;"
        >
        <div class="toast-header toast-success">
        <i class="fas fa-check fa-lg me-2"></i>
        <strong class="me-auto">Thành công</strong>
        <button type="button" class="btn-close" data-mdb-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">{{message.success}}</div>
    </div>
    {{/if}}


    {{#if message.error}}
    <div class="toast fade mx-auto toast-danger toast-fixed show" role="alert" aria-live="assertive" aria-atomic="true" data-mdb-autohide="true" data-mdb-position="top-right" data-mdb-append-to-body="true" data-mdb-stacking="true" data-mdb-width="350px" data-mdb-color="success"
        style="width: 350px; display: block; top: 10px; right: 10px; bottom: unset; left: unset; transform: unset;"
        >
        <div class="toast-header toast-danger">
        <i class="fas fa-exclamation-circle fa-lg me-2"></i>
        <strong class="me-auto">Thất bại</strong>
        <button type="button" class="btn-close" data-mdb-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">{{message.error}}</div>
    </div>
    {{/if}}
    
    <script>
        function preview(imgInp, id) { 
            const [file] = imgInp.files;
            if (file) $(`#${id}`).attr('src', URL.createObjectURL(file));
            else $(`#${id}`).attr('src', '');
        }

        function removeUploadImg(file, preview, hidden) { 
            $(`#${file}`).val('');
            $(`#${preview}`).attr('src', '');
            $(`#${hidden}`).val('');
        }

        $(document).ready( function () {
            if (window.location.pathname.includes('section')) 
                $('#section').addClass('active'); 
            else if (window.location.pathname.includes('doi-ngu')) 
                $('#doi-ngu').addClass('active'); 
            else if (window.location.pathname.includes('binh-luan')) 
                $('#binh-luan').addClass('active'); 
            else $('#banner').addClass('active'); 

            $('#table_id').DataTable(); 

            setTimeout(function() { $('.toast').hide(); }, 4000);

            CKEDITOR.replace('ckeditor');
        });
    </script>
    <script
        type='text/javascript'
        src='https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js'
    ></script>
    <script
        type='text/javascript'
        src='https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.js'
    ></script>
    </body>
</html>